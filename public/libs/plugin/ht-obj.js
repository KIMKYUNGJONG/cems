!function(c,i,z){"use strict";function b(){var L=[],j=[];return function(){return 0===arguments.length?j.join("")+n.apply(String,L):(L.length+arguments.length>1024&&(j.push(n.apply(String,L)),L.length=0),Array.prototype.push.apply(L,arguments),void 0)}}function l(Q,K,G,X,T){var L,J,o=8*T-X-1,E=(1<<o)-1,V=E>>1,P=-7,y=G?T-1:0,$=G?-1:1,M=Q[K+y];for(y+=$,L=M&(1<<-P)-1,M>>=-P,P+=o;P>0;L=256*L+Q[K+y],y+=$,P-=8);for(J=L&(1<<-P)-1,L>>=-P,P+=X;P>0;J=256*J+Q[K+y],y+=$,P-=8);if(0===L)L=1-V;else{if(L===E)return J?0/0:1/0*(M?-1:1);J+=Math.pow(2,X),L-=V}return(M?-1:1)*J*Math.pow(2,L-X)}var f="ht",Z=c[f],W=null,X=Math,A=X.abs,d=X.max,F=Number.MAX_VALUE,a=Z.Default,u=a.getInternal(),N=a.clone,O=u.vec3TransformMat4,Q=[0,0],D=u.appendArray,g=function(){function e(m,R,N,I){if(m){var o=m[I];if(o){N.ignoreColor||(R.color=o.kd),!N.ignoreTransparent&&o.d>0&&o.d<1&&(R.transparent=!0,R.opacity=o.d);var b;if(!N.ignoreImage&&(b=o.map_kd)){b=b.split(" ");for(var B=-1,w=0;w<b.length;w++)"-o"===b[w]?(R.uvOffset=[parseFloat(b[w+1]),parseFloat(b[w+2])],w+=3,B=w):"-s"===b[w]&&(R.uvScale=[parseFloat(b[w+1]),parseFloat(b[w+2])],w+=3,B=w);R.image=(N.prefix||"")+b.splice(B+1).join(" ")}}}}var L=/v( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,r=/vt( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,n=/vn( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,Y=/^[og]\s*(.+)?/,T=function(N,Y){return Y=parseInt(Y),Y>=0?N[Y-1]:N[Y+N.length]},k=function(H,w,h,k,d){if(H.lvs){var c=T(w,k),g=T(w,d),m=h.matrix,S=H.lvs;m?(D(S,O(N(c),m)),D(S,O(N(g),m))):(D(S,c),D(S,g))}},g=function(h,G,b,S,E,o){if(h.vs){var Q=T(G,S),k=T(G,E),r=T(G,o),u=b.matrix,P=h.vs;if(b.flipFace){var f=k;k=r,r=f}u?(D(P,O(N(Q),u)),D(P,O(N(k),u)),D(P,O(N(r),u))):(D(P,Q),D(P,k),D(P,r))}},i=function(e,A,J,L,t,r){if(e.vs){var M=J.flipY,C=L===z?Q:T(A,L),R=t===z?Q:T(A,t),h=r===z?Q:T(A,r);if(J.flipFace){var k=R;R=h,h=k}e.uv.push(C[0],M?1-C[1]:C[1],R[0],M?1-R[1]:R[1],h[0],M?1-h[1]:h[1])}},C=function(g,k,e,l,y,p){if(g.vs){var F=T(k,l),Q=T(k,y),V=T(k,p),d=e.normalMatrix,Y=g.ns;if(e.flipFace){var B=Q;Q=V,V=B}d?(D(Y,O(N(F),d)),D(Y,O(N(Q),d)),D(Y,O(N(V),d))):(D(Y,F),D(Y,Q),D(Y,V))}},M=function(r,T,u,N){for(var X=N.length-1,z=0;X>z;++z)k(r,T,u,N[z],N[z+1]);k(r,T,u,N[X],N[0])},j=function(J,M,k,F,e,w,t,U){var A=F&&F.length&&U;w[3]===z?(g(J,M,e,w[0],w[1],w[2]),t?i(J,k,e,t[0],t[1],t[2]):J.uv&&J.uv.length&&i(J,k,e),A&&C(J,F,e,U[0],U[1],U[2])):(g(J,M,e,w[0],w[1],w[3]),g(J,M,e,w[1],w[2],w[3]),t?(i(J,k,e,t[0],t[1],t[3]),i(J,k,e,t[1],t[2],t[3])):J.uv&&J.uv.length&&(i(J,k,e),i(J,k,e)),A&&(C(J,F,e,U[0],U[1],U[3]),C(J,F,e,U[1],U[2],U[3])))},_=function(T,O,V,X){var E,I,l,W,n,f,p,J,t=F,y=F,v=F,$=-F,D=-F,r=-F;for(E in T)for(f=T[E].vs,J=f.length,I=0;J>I;I+=3)l=f[I+0],W=f[I+1],n=f[I+2],t>l&&(t=l),y>W&&(y=W),v>n&&(v=n),l>$&&($=l),W>D&&(D=W),n>r&&(r=n);var o;if(V){var U=t+($-t)/2,q=y+(D-y)/2,M=v+(r-v)/2;for(E in T){for(f=T[E].vs,J=f.length,I=0;J>I;I+=3)f[I+0]-=U,f[I+1]-=q,f[I+2]-=M;if(p=T[E].lvs)for(J=p.length,I=0;J>I;I+=3)p[I+0]-=U,p[I+1]-=q,p[I+2]-=M}o=[U,q,M]}var P,N,m;V?(P=$-t,N=D-y,m=r-v):(P=2*d(A(t),A($)),N=2*d(A(y),A(D)),m=2*d(A(v),A(r))),0===P&&(P=Math.min(N,m)/1e3||.001),0===N&&(N=Math.min(P,m)/1e3||.001),0===m&&(m=Math.min(P,N)/1e3||.001),X.rawS3=[P,N,m];for(E in T){if(f=T[E].vs,p=T[E].lvs,O){for(J=f.length,I=0;J>I;I+=3)P&&(f[I+0]/=P),N&&(f[I+1]/=N),m&&(f[I+2]/=m);if(p)for(J=p.length,I=0;J>I;I+=3)P&&(p[I+0]/=P),N&&(p[I+1]/=N),m&&(p[I+2]/=m);var i=T[E].ns;if(i){J=i.length;var z=new Z.Math.Vector3;for(I=0;J>I;I+=3)z.set(i[I+0]*P,i[I+1]*N,i[I+2]*m).normalize(),i[I+0]=z.x,i[I+1]=z.y,i[I+2]=z.z}}T[E].rawS3=X.rawS3,o&&(T[E].center=o)}};return function(d,O,D){if(!d)return W;(u.isString(O)||O instanceof ArrayBuffer)&&(O=K(O)),D||(D={}),D.flipY==W&&(D.flipY=!0),(D.s3||D.r3||D.t3||D.mat)&&(D.matrix=u.createWorldMatrix(D.mat,D.s3,D.r3,D.rotationMode,D.t3));var w,S,E,m,x=Z.Style["wf.loadQuadWireframe"],R=[],c=[],H=D.ignoreNormal?W:[],X=D.reverseFlipMtls,J={vs:[],uv:[],ns:H?[]:W},f={htdefault:J},N=new t(d),C="",s="";for(H&&D.matrix&&(D.normalMatrix=u.createNormalMatrix(D.matrix));null!=(S=N.stepNext());)if(S=S.trim(),0!==S.length&&"#"!==S.charAt(0))if(S.indexOf("\\")!==S.length-1){if(C&&(S=C+S,C=""),S.indexOf("#QNAN0")>=0&&(S=S.replace(/#QNAN0/gi,"0")),E=L.exec(S))R.push([parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])]);else if(E=r.exec(S))c.push([parseFloat(E[1]),parseFloat(E[2])]);else if(H&&(E=n.exec(S)))D.flipFace?H.push([parseFloat(-E[1]),parseFloat(-E[2]),parseFloat(-E[3])]):H.push([parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])]);else if("f"===S[0]){var F=S.split(/\s+/);if(F.length<4)continue;var g,w,Q,A=[],$=[],B=[];for(w=1,Q=F.length;Q>w;w++)g=F[w].split("/"),A.push(parseInt(g[0],10)),g.length>1&&g[1].length>0&&B.push(parseInt(g[1],10)),g.length>2&&g[2].length>0&&$.push(parseInt(g[2],10));for(w=0,Q=A.length-2;Q>w;w++)j(J,R,c,H,D,[A[0],A[w+1],A[w+2]],B.length?[B[0],B[w+1],B[w+2]]:W,$.length?[$[0],$[w+1],$[w+2]]:W);x&&M(J,R,D,A)}else if(D.part&&null!==(E=Y.exec(S)))s=(" "+E[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(S)){var h=S.substring(7).trim();h.split(" ").forEach(function(h){var Y=D.part?s+"_"+h:h;(J=f[Y])||(J=f[Y]={name:Y,vs:[],uv:[],ns:H?[]:W,lvs:x?[]:W},D.ignoreMtls&&D.ignoreMtls.indexOf(h)>=0&&delete J.vs,(D.reverseFlip||"*"===X||X&&X.indexOf(h)>=0)&&(J.reverseFlip=!0),e(O,J,D,h))})}}else C+=S.substring(0,S.length-1);var o=[];for(var k in f){var l=f[k].vs;if(l&&0!==l.length){var i=f[k].uv;if(i)for(var U=2*l.length/3-i.length;U-->0;)i.push(0)}else o.push(k)}o.forEach(function(R){delete f[R]}),_(f,D.cube,D.center,D);var T=D.shape3d;if(T){var z=[];for(var m in f){var J=f[m];z.rawS3=J.rawS3,J.center&&(z.center=J.center),z.push(J)}a.setShape3dModel(T,z)}return f}}(),K=function(M){var v={};if(M)for(var w,J,U,N,o,r,s=new t(M),q=/\s+/;null!=(J=s.stepNext());)J=J.trim(),0!==J.length&&"#"!==J.charAt(0)&&(U=J.indexOf(" "),N=(U?J.substring(0,U):J).toLowerCase(),o=(U?J.substring(U+1):"").trim(),"newmtl"===N?v[o]=w={name:o}:w&&("ka"===N||"kd"===N||"ks"===N?(r=o.split(q,3),w[N]=[parseFloat(r[0]),parseFloat(r[1]),parseFloat(r[2]),1]):w[N]="ns"===N||"d"===N?parseFloat(o):o));return v},t=function(g){var d=this;if(g instanceof ArrayBuffer){d.isBuffer=!0;var m=0,Q=new Uint8Array(g),p=Q.length,M=Q.length;d.stepNext=function(){for(var U,C,$=m;p>m;)if(U=Q[m],C=U>>4,12===C||13==C)m+=2;else if(14===C)m+=3;else if(m++,10===U)return String.fromCharCode.apply(null,Q.subarray($,m));return m>$?String.fromCharCode.apply(null,Q.subarray($,m)):null}}else{d.isBuffer=!1;var u=g.split("\n"),C=0,M=u.length;d.stepNext=function(){return M>C?u[C++]:null}}};t.prototype={},t.prototype.constructor=t,u.addMethod(a,{loadObj:function(G,L,p){p=p||{};var s=!1;/(MSIE |Trident\/|Edge\/)/.test(c.navigator.userAgent)&&(s=!0);var _=function(t){var N,Q=p.finishFunc,Z=p.shape3d,y=t?g(t[0],t[1],p):null;if(y){if(Z)N=a.getShape3dModel(Z);else{N=[];for(var J in y){var o=y[J];N.rawS3=o.rawS3,N.push(o)}}Q&&Q(y,N,N.rawS3)}else Q&&Q(null)};if(s){p.responseType="arraybuffer";var C=function(d){a.xhrLoad(G,function(D){_([D,d])},p)};L?a.xhrLoad(L,function(d){C(d)},p):C()}else a.xhrLoad(L?[G,L]:[G],_,p)},parseObj:function(R,c,z){return g(R,c,z)}});var w=Z.ByteBuffer=function(e,B,H){if("undefined"==typeof e&&(e=w.DEFAULT_CAPACITY),"undefined"==typeof B&&(B=w.DEFAULT_ENDIAN),"undefined"==typeof H&&(H=w.DEFAULT_NOASSERT),!H){if(e=0|e,0>e)throw RangeError("Illegal capacity");B=!!B,H=!!H}this.buffer=0===e?G:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=B,this.noAssert=H},G=new ArrayBuffer(0);w.LITTLE_ENDIAN=!0,w.BIG_ENDIAN=!1,w.DEFAULT_CAPACITY=16,w.DEFAULT_ENDIAN=w.BIG_ENDIAN,w.DEFAULT_NOASSERT=!1,w.METRICS_BYTES="b";var n=String.fromCharCode,_=w.prototype;_.readUint8=function(X){var E="undefined"==typeof X;if(E&&(X=this.offset),!this.noAssert){if("number"!=typeof X||0!==X%1)throw TypeError("Illegal offset: "+X+" (not an integer)");if(X>>>=0,0>X||X+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+X+" (+"+1+") <= "+this.buffer.byteLength)}var e=this.view[X];return E&&(this.offset+=1),e},_.readUint16=function(p){var e="undefined"==typeof p;if(e&&(p=this.offset),!this.noAssert){if("number"!=typeof p||0!==p%1)throw TypeError("Illegal offset: "+p+" (not an integer)");if(p>>>=0,0>p||p+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+p+" (+"+2+") <= "+this.buffer.byteLength)}var L=0;return this.littleEndian?(L=this.view[p],L|=this.view[p+1]<<8):(L=this.view[p]<<8,L|=this.view[p+1]),e&&(this.offset+=2),L},_.readUint24=function(k){var S="undefined"==typeof k;if(S&&(k=this.offset),!this.noAssert){if("number"!=typeof k||0!==k%1)throw TypeError("Illegal offset: "+k+" (not an integer)");if(k>>>=0,0>k||k+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+k+" (+"+4+") <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[k+2]<<16,i|=this.view[k+1]<<8,i|=this.view[k]):(i=this.view[k+1]<<8,i|=this.view[k+2],i+=this.view[k]<<16>>>0),i|=0,S&&(this.offset+=3),i},_.readUint32=function(j){var n="undefined"==typeof j;if(n&&(j=this.offset),!this.noAssert){if("number"!=typeof j||0!==j%1)throw TypeError("Illegal offset: "+j+" (not an integer)");if(j>>>=0,0>j||j+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+j+" (+"+4+") <= "+this.buffer.byteLength)}var U=0;return this.littleEndian?(U=this.view[j+2]<<16,U|=this.view[j+1]<<8,U|=this.view[j],U+=this.view[j+3]<<24>>>0):(U=this.view[j+1]<<16,U|=this.view[j+2]<<8,U|=this.view[j+3],U+=this.view[j]<<24>>>0),n&&(this.offset+=4),U},_.readFloat32=function(h){var $="undefined"==typeof h;if($&&(h=this.offset),!this.noAssert){if("number"!=typeof h||0!==h%1)throw TypeError("Illegal offset: "+h+" (not an integer)");if(h>>>=0,0>h||h+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+h+" (+"+4+") <= "+this.buffer.byteLength)}var q=l(this.view,h,this.littleEndian,23,4);return $&&(this.offset+=4),q};var C=function(){var V={};return V.MAX_CODEPOINT=1114111,V.decodeUTF8=function(T,o){for(var K,A,u,g,O=function(t){t=t.slice(0,t.indexOf(null));var M=Error(t.toString());throw M.name="TruncatedError",M.bytes=t,M};null!==(K=T());)if(0===(128&K))o(K);else if(192===(224&K))null===(A=T())&&O([K,A]),o((31&K)<<6|63&A);else if(224===(240&K))(null===(A=T())||null===(u=T()))&&O([K,A,u]),o((15&K)<<12|(63&A)<<6|63&u);else{if(240!==(248&K))throw RangeError("Illegal starting byte: "+K);(null===(A=T())||null===(u=T())||null===(g=T()))&&O([K,A,u,g]),o((7&K)<<18|(63&A)<<12|(63&u)<<6|63&g)}},V.UTF16toUTF8=function(U,F){for(var i,k=null;;){if(null===(i=null!==k?k:U()))break;i>=55296&&57343>=i&&null!==(k=U())&&k>=56320&&57343>=k?(F(1024*(i-55296)+k-56320+65536),k=null):F(i)}null!==k&&F(k)},V.UTF8toUTF16=function(C,v){var L=null;for("number"==typeof C&&(L=C,C=function(){return null});null!==L||null!==(L=C());)65535>=L?v(L):(L-=65536,v((L>>10)+55296),v(L%1024+56320)),L=null},V.decodeUTF8toUTF16=function(K,o){V.decodeUTF8(K,function(k){V.UTF8toUTF16(k,o)})},V.calculateCodePoint=function(g){return 128>g?1:2048>g?2:65536>g?3:4},V.calculateUTF8=function(R){for(var E,Q=0;null!==(E=R());)Q+=128>E?1:2048>E?2:65536>E?3:4;return Q},V.calculateUTF16asUTF8=function(g){var N=0,L=0;return V.UTF16toUTF8(g,function(d){++N,L+=128>d?1:2048>d?2:65536>d?3:4}),[N,L]},V}();_.readString=function(g,E,L){"number"==typeof E&&(L=E,E=z);var P="undefined"==typeof L;if(P&&(L=this.offset),"undefined"==typeof E&&(E=w.METRICS_CHARS),!this.noAssert){if("number"!=typeof g||0!==g%1)throw TypeError("Illegal length: "+g+" (not an integer)");if(g|=0,"number"!=typeof L||0!==L%1)throw TypeError("Illegal offset: "+L+" (not an integer)");if(L>>>=0,0>L||L+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+L+" (+"+0+") <= "+this.buffer.byteLength)}var j,$=0,K=L;if(E===w.METRICS_CHARS){if(j=b(),C.decodeUTF8(function(){return g>$&&L<this.limit?this.view[L++]:null}.bind(this),function(P){++$,C.UTF8toUTF16(P,j)}),$!==g)throw RangeError("Illegal range: Truncated data, "+$+" == "+g);return P?(this.offset=L,j()):{string:j(),length:L-K}}if(E===w.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof L||0!==L%1)throw TypeError("Illegal offset: "+L+" (not an integer)");if(L>>>=0,0>L||L+g>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+L+" (+"+g+") <= "+this.buffer.byteLength)}var k=L+g;if(C.decodeUTF8toUTF16(function(){return k>L?this.view[L++]:null}.bind(this),j=b(),this.noAssert),L!==k)throw RangeError("Illegal range: Truncated data, "+L+" == "+k);return P?(this.offset=L,j()):{string:j(),length:L-K}}throw TypeError("Unsupported metrics: "+E)};var V=function(E){if(E){var L=new w(0);L.buffer=E,L.limit=E.byteLength,L.view=E.byteLength>0?new Uint8Array(E):null;var U=[];return y(U,L),M(U,L),k(U,L),U}},y=function(x,i){i.offset+=19},M=function(o,n){var k=n.readUint8();1&k&&(o.center=R(n)),2&k&&(o.rawS3=R(n))},x=function(x){return[x.readFloat32(),x.readFloat32()]},R=function(n){return[n.readFloat32(),n.readFloat32(),n.readFloat32()]},s=function(u){var S=u.readUint32();return u.readString(S,w.METRICS_BYTES)},k=function(x,S){for(var $=S.readUint8(),J=0;$>J;J++)x.push(H(S))},H=function(g){var i={},X=g.readUint32(),q=0,M=X&1<<q++,L=X&1<<q++,m=X&1<<q++,Q=X&1<<q++,y=X&1<<q++,K=X&1<<q++,V=X&1<<q++,G=X&1<<q++,J=X&1<<q++,e=X&1<<q++,W=X&1<<q++,b=X&1<<q++;return(M||L)&&B(i,g,3,"vs","lvs"),m&&B(i,g,2,"uv"),Q&&B(i,g,3,"ns"),y&&(i.name=s(g)),K&&(i.color=R(g)),V&&(i.transparent=!!g.readUint8()),G&&(i.opacity=g.readFloat32()),J&&(i.uvoffset=x(g)),e&&(i.uvScale=R(g)),W&&(i.image=s(g)),b&&(i.reverseFlip=!!g.readUint8()),i},h=16383,m=function(i){var B=i.readUint16(),W=16384&B,T=32768&B,D=(B&h)/h,w=0;return T&&(w=i.readUint16()),(W?1:-1)*(w+D)},I=function(M){var Z=M.readUint32(),C=Z&1<<30,I=Z&1<<29,G=Z&1<<28,c=16383,F=(16383&Z>>14)/c,U=(16383&Z)/c,k=Math.sqrt(1-F*F-U*U)||0;return[F*(C?1:-1),U*(I?1:-1),k*(G?1:-1)]},B=function(h,s,U,e,f){var X=s.readUint32();s.readUint8();var t,S,y,n=s.readUint32(),Y=s.readUint32(),H=[];if("uv"===e)for(t=0;X>t;t++)S=m(s),y=m(s),H.push([S,y]);else if("ns"===e)for(t=0;X>t;t++)H.push(I(s));else for(var t=0;X>t;t++)H.push(R(s));var D;D=256>X?"readUint8":65536>X?"readUint16":16777216>X?"readUint24":"readUint32";var C,w,q;if(n)for(C=h[e]=[],t=0;n>t;t++)w=s[D](),q=H[w],"uv"===e?C.push(q[0],q[1]):C.push(q[0],q[1],q[2]);if(Y)for(C=h[f]=[],t=0;Y>t;t++)w=s[D](),q=H[w],C.push(q[0],q[1],q[2])};a.getInternal().addMethod(a,{loadBin:function(Y,J){J=J||{};var d=function(x){var M,E=J.finishFunc,f=J.shape3d,T=x?V(x):null;if(T){if(f)M=a.getShape3dModel(f);else{M=[];for(var S in T){var j=T[S];M.rawS3=j.rawS3,M.push(j)}}E&&E(T,M,M.rawS3)}else E&&E(null)};J.responseType="arraybuffer",a.xhrLoad(Y,function(O){d(O)},J)},parseBin:function(i){return V(i)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
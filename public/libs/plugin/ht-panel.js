!function(D,Y,z){"use strict";var V="ht",H=D[V],C=H.Default,k=C.isTouchable,u=C.isTouchEvent,Q=H.Color,d="px",A="0",G="innerHTML",f="className",p="position",q="absolute",j="width",T="height",I="left",R="top",L="right",l="bottom",g="max-width",v="max-height",K=null,o="none",M="",i=D.parseInt,r=D.setTimeout,n=C.getInternal(),F=C.animate,y=Q.titleIconBackground,Z=function(){return document},s=function(y){return Z().createElement(y)},S=function(){return s("div")},e=function(){return s("canvas")},O=function(q,j,V){q.style.setProperty(j,V,K)},h=function(r,A){return r.style.getPropertyValue(A)},$=function(g,x){g.appendChild(x)},E=function(r,B){r.removeChild(B)},w=n.addEventListener,W=(n.removeEventListener,function(x){var C=x.scrollWidth,i=x.scrollHeight;return x===Z().body&&(C=Math.max(C,Z().documentElement.scrollWidth),i=Math.max(i,Z().documentElement.scrollHeight)),{width:C,height:i}}),x=function(e){var p=e.touches[0];return p?p:e.changedTouches[0]};n.addMethod(C,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:y,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:y}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:y},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:y}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:y},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:y}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:y},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:y},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:y},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:y}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:y},{type:"rect",rect:[10,118,268,56],background:y},{type:"rect",rect:[10,213,268,56],background:y}]},panelTitleLabelColor:C.labelSelectColor,panelTitleLabelFont:C.labelFont,panelContentLabelFont:C.labelFont,panelTitleBackground:Q.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:z},!0);var U=H.widget.Panel=function(x){var g=this,Y=g._view=n.createView(null,g);g.$1i=0,g.$18i=new H.Notifier,g.$2i="leftTop",O(Y,R,A),O(Y,I,A),O(Y,p,q),O(Y,"overflow","hidden"),g._interactor=new m(g),g.setConfig(x),g.addEventListener(function(c){var r=g.getPanelConfig(c.id),G=r.content;("beginRestore"===c.kind||"betweenResize"===c.kind||"endToggle"===c.kind)&&(G&&G.invalidate&&G.invalidate(),r.items&&r.items.forEach(function(y){y&&y.content&&y.content.invalidate&&y.content.invalidate()}))})};C.def(U,Y,{ms_v:1,_dragContainment:"parent",setConfig:function(J){function o(i){i.expanded=!i.expanded,Q.togglePanel(i.id,!0,!0)}if(J){for(var Q=this,G=Q._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);Q._config=J,Q.$35i=[],J.expanded==K&&(J.expanded=J.expand!=K?J.expand:!0);var F=Q._view,U=Q.$24i(J,F,!0),P=U[2],N=J.width;Q.$35i.push(U[1]),J.items&&J.items.forEach(function(B){B.expanded==K&&(B.expanded=B.expand!=K?B.expand:!0);var i=Q.$24i(B,P.children[0]);Q.$35i.push(i[1])});var w=S();O(w,j,10+d),O(w,T,10+d),O(w,p,q),O(w,l,A),O(w,L,A),w[f]="resize-area",$(F,w),Q.$10i(),J.flowLayout&&O(F,p,"relative"),O(F,"opacity",A),$(Z().body,F),N==K&&(N=F.offsetWidth),O(F,j,N+d),O(F,g,N+d);var b=J.content;b&&b.isSelfViewEvent&&(b.setX(0),b.setY(0),b.setWidth(N-2*(J.borderWidth||0)),b.setHeight(J.contentHeight)),J.items&&J.items.forEach(function(D){o(D)}),J.buttons&&J.buttons.indexOf("toggle")<0||o(J),J.minimized==K&&J.minimize!=K&&(J.minimized=J.minimize),J.minimized&&J.minimizable!==!1&&Q.minimize(!0),E(Z().body,F),O(F,"opacity",M),G&&$(G,F),Q.iv()}},getPanelConfig:function(O){var N=this,x=N._config,Z=x.items;if(x.id===O)return x;if(Z)for(var z=0;z<Z.length;z++){var $=Z[z];if($.id===O)return $}},getPanelView:function(H){for(var S=this,p=S.$35i,y=0;y<p.length;y++){var c=p[y],U=c.parentNode;if(U.$15i===H)return U}},setDragContainment:function(f){this._dragContainment=f},getDragContainment:function(){return this._dragContainment},$20i:function(){var B=this._config,G=B.restoreIconSize||24;return G},$5i:function(Y){var $=Y.titleIconSize||16;return k&&($*=1.2),$},$4i:function(Q){var D=Q.titleHeight||C.widgetTitleHeight;return D},setTitle:function($,z){if(z==K&&(z=this._config.id),z!=K){var d=this.getPanelConfig(z),w=this.getPanelView(z);d.title=$,w.querySelector(".panel-title span").innerHTML=$}},setInnerPanel:function(X){var p,H,d=this,m=X.id,t=d.$35i,I=!1;if(X.expanded==K&&(X.expanded=!0),m!=K){var b=d.getPanelConfig(m);if(b){I=!0;var M,Z=d.getPanelView(m),P=Z.parentNode,B=Z.children[0];if(Z!==d._view){d.$11i();for(M in b)delete b.key;for(M in X)b[M]=X[M];p=d.$24i(X,P,!1,Z),H=p[1],P.removeChild(Z);for(var G=0;G<t.length;G++)if(t[G]===B){t.splice(G,1,H);break}d.$12i(),b.expanded=!b.expanded,d.togglePanel(b.id,!0,!0),d.iv()}}}if(!I){d.$11i(),p=d.$24i(X,d._view.children[1]),H=p[1],t.push(H),d._config.items||(d._config.items=[]);var j=d._config.items;if(j.push(X),d.$12i(),j.length>1){var s=j[j.length-2],k=d.getPanelView(s.id).children[0];O(k,"border-bottom",d.$55i(s))}X.expanded=!X.expanded,d.togglePanel(X.id,!0,!0),d.iv()}},removeInnerPanel:function(E){var d,p=this,G=-1,H=p._config.items;if(H)for(d=0;d<H.length;d++){var g=H[d];if(g.id===E){G=d;break}}if(p.$11i(),G>=0){var $=p.$35i,a=p.getPanelView(E),N=a.children[0];for(d=0;d<$.length;d++)if($[d]===N){$.splice(d,1);break}H.splice(G,1),a.parentNode.removeChild(a)}if(p.$12i(),H.length>0){var e=H[H.length-1],c=p.getPanelView(e.id).children[0];O(c,"border-bottom",p.$55i(e))}},$6i:function(C){O(C,"cursor","pointer"),O(C,"display","inline-block"),O(C,"margin-right",(k?8:4)+d),O(C,"vertical-align",R)},$24i:function(_,E,m,b){var V=this,D=V._config.flowLayout,M=m?E:S(),j=V.$50i(_),r=V.$3i(_,m);M[f]="ht-widget-panel"+(m?" outer-panel":" inner-panel"),_.borderWidth==K&&(_.borderWidth=m?2:0);var x=_.borderWidth;if(x="0 "+x+d+" "+x+d+" "+x+d+" ",O(M,"border-width",x),O(M,"border-color",_.titleBackground||C.panelTitleBackground),O(M,"border-style","solid"),$(M,r),$(M,j),m||(b?E.insertBefore(M,b):$(E,M)),!D&&m&&_.minimizable!==!1){var s=e(),l=V.$20i(),G=_.restoreToolTip;n.setCanvas(s,l,l),s[f]="control-button button-minimize button-minimize-restore",V.$6i(s),O(s,"display","none"),$(E,s),s.title=G||""}var h=_.panelBackground||_.titleBackground||C.panelTitleBackground;if(O(M,"background-color",h),_.id==K){for(var W=V.$1i++;V.getPanelConfig(W);)W=V.$1i++;_.id=W}return M.$15i=_.id,_.width&&(M.style.width=_.width+d),[M,r,j]},$9i:function(w){var O=e();O[f]="control-button button-toggle button-toggle-expand",O.title=w.toggleToolTip||"";var x=this.$4i(w),C=this.$5i(w);return this.$6i(O),n.setCanvas(O,C,x),O},$8i:function(u){var V=e(),R="control-button button-independent-switch";V[f]=u.independent===!0?R+" button-independent-switch-on":R+" button-independent-switch-off",V.title=u.independentSwitchToolTip||"";var P=this.$4i(u),o=this.$5i(u);return this.$6i(V),n.setCanvas(V,o,P),V},$7i:function(K){var h=e();h[f]="control-button button-minimize button-minimize-minimize",h.title=K.minimizeToolTip||"";var y=this.$4i(K),$=this.$5i(K);return this.$6i(h),n.setCanvas(h,$,y),h},$55i:function(U){var Z=this._config,A=Z.items,u=U.separatorWidth||C.panelSeparatorWidth,b=U.titleBackground||C.panelTitleBackground,T=U.expanded!==!1?b:U.separatorColor||C.panelSeparatorColor||C.brighter(b);return(Z===U||A&&A.indexOf(U)===A.length-1)&&(u=0),u+d+" solid "+T},$3i:function(W,P){var N=this,o=N._config.flowLayout,r=S(),Z=S(),_=N.$4i(W),H=W.titleBackground,i=W.titleColor,c=W.titleIcon,h=W.buttons;if(r[f]="panel-title",O(r,p,"relative"),O(r,"background",H||C.panelTitleBackground),O(r,"color",i||C.panelTitleLabelColor),O(r,R,A),O(r,"box-sizing","border-box"),O(r,"-moz-box-sizing","border-box"),O(r,"padding","0 5px 0 0"),O(r,j,"100%"),O(r,"cursor","default"),O(r,"white-space","nowrap"),O(r,"font",C.panelTitleLabelFont),c){var J=e();J[f]="control-button panel-title-icon";var B=N.$4i(W),x=N.$5i(W);N.$6i(J),n.setCanvas(J,x,B),$(r,J)}var z=s("span");O(z,"display","inline-block"),O(z,"margin-left","5px"),z[G]="<span>"+W.title+"</span>",$(r,z),O(r,"line-height",_+d),Z[f]="panel-title-controls",O(Z,p,q),O(Z,I,A),O(Z,L,5+d),O(Z,R,A),O(Z,l,A),O(Z,"text-align",L);var X=function(){var h=N.$9i(W);$(Z,h)},a=function(){if(!o&&P&&W.minimizable!==!1){var l=N.$7i(W);$(Z,l)}},T=function(){if(!P){var d=N.$8i(W);$(Z,d)}},U=function(d){var T=e();T[f]="control-button custombutton-"+d.name,T.title=d.toolTip||"",T._action=d.action;var o=N.$4i(W),P=N.$5i(W);N.$6i(T),n.setCanvas(T,P,o),$(Z,T)};if(h)for(var D=0;D<h.length;D++){var v=h[D];"string"==typeof v?"minimize"===v?a():"independentSwitch"===v?T():"toggle"===v&&X():"object"==typeof v&&U(v)}else a(),X();return $(r,Z),r},$50i:function(r){var n=S(),h=r.contentHeight,x=S();O(x,p,"relative"),n[f]="panel-body",O(n,"overflow","hidden");var N=r.contentBackground;if(N===z&&(N="white"),O(n,"background",N),O(n,"font",C.panelContentLabelFont),$(n,x),r.content){var t,e=r.content;e.getView?($(x,e.getView()),t=x.children[0]):e instanceof Element?($(x,e),t=x.children[0]):x[G]=e,e.isSelfViewEvent||t&&(O(t,j,"100%"),O(t,T,"100%")),h&&O(x,T,h+d)}return n},$10i:function(){var $=this,r=$._config,y=$._view,k=y.querySelector(".resize-area").style;k.display=r.flowLayout||r.minimized===!0||r.expanded===!1?o:"block"},$11i:function(){var y=this._view,C=y.children[1];this.$13i>=0?this.$13i++:this.$13i=1,O(C,v,M),O(y,g,M)},$12i:function(){var K=--this.$13i;if(0===K){var X=this._view,L=X.children[1];O(L,v,L.scrollHeight+d),O(X,g,X.offsetWidth+d)}},$14i:function(){var W=this._view,g=W.children[0],f=g.children[1].children,_=this._config,m=0;W.$26i=W.offsetWidth,m+=g.children[0].offsetWidth,_.titleIcon&&(m+=g.children[1].offsetWidth,f=g.children[2].children);for(var r=0;r<f.length;r++){var I=f[r];m+=I.offsetWidth+5}W.$51i=m+15},togglePanel:function(B,$,e){function _(O){var U=O.target,T=U.parentNode,R=u.getPanelConfig(T.$15i);delete T.$19i,U!==n&&u.$12i(),u.$18i.fire({kind:"endToggle",target:u,id:R.id})}for(var u=this,V=u._view,n=V.children[1],Q=K,D=u.$35i,X=D.length,N=u._config.exclusive,i=u.$2i,k=[],T=u._config.narrowWhenCollapse,m=0;X>m;m++){var y=D[m],w=y.parentNode,C=w.$15i,G=u.getPanelConfig(C);C===B&&(Q=w),!$&&N&&G.expanded&&w!==V&&C!==B&&G.independent!==!0&&k.push(w)}if(Q&&!Q.$19i){Q.$19i=!0;var Y=Q.children[1],c=Q.querySelector(".button-toggle"),o=u.getPanelConfig(Q.$15i);if(!c)return;Q===V||o.expanded||o.independent===!0||k.forEach(function(l){u.togglePanel(l.$15i,!0)}),Q!==V&&u.$11i();var E=200;if(e&&(E=0),u.$18i.fire({kind:"beginToggle",target:u,id:Q.$15i}),o.expanded){var h=function(){c[f]="control-button button-toggle",c[f]+=i.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",O(Y,j,Y.clientWidth+d),o.expanded=!1,O(Q.children[0],"border-bottom",u.$55i(o)),F(Y).duration(E).set("opacity",A).set(v,A).end(_),T&&Q===V&&F(Q).duration(E).set(g,Q.$51i+d).end(),Q[f]+=" panel-collapse",F(Q).duration(E).set("padding-bottom",A).end(),u.$28i(o,!0),u.$10i()};T&&Q===V&&u.$14i(),h()}else c[f]="control-button button-toggle",c[f]+=i.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",O(Y,j,M),o.expanded=!0,O(Q.children[0],"border-bottom",u.$55i(o)),F(Y).duration(E).set("opacity","1").set(v,Y.scrollHeight+d).end(_),T&&Q===V&&F(Q).duration(E).set(g,(Q.$26i||Q.offsetWidth)+d).end(),Q[f]=Q[f].replace(" panel-collapse",M),F(Q).duration(E).end(),u.$28i(o,!0),u.$10i()}},$16i:function(){var h=this._view,W=h.$22i,P=h.$23i,T=this.$2i;return W==K&&(T.indexOf(I)>=0?W=h.$22i=0:T.indexOf(L)>=0&&(W=h.$22i=100)),P==K&&(T.indexOf("Top")>=0?P=h.$23i=0:T.indexOf("Bottom")>=0&&(P=h.$23i=100)),[W,P]},$25i:function(){var H=this,K=H._view,B=K.$21i,Q=H.$20i(),j=H.$16i(),k=j[0],D=j[1],b=H.$2i;K.children[0].style.display=o,K.children[1].style.display=o,K.children[2].style.display=M,O(K,"padding",A),O(K,g,Q+d),"leftTop"===b?(O(K,I,i(h(K,I))+(B.width-Q)*k/100+d),O(K,R,i(h(K,R))+(B.height-Q)*D/100+d)):"leftBottom"===b?(O(K,I,i(h(K,I))+(B.width-Q)*k/100+d),O(K,l,i(h(K,l))+(B.height-Q)*(1-D/100)+d)):"rightTop"===b?(O(K,L,i(h(K,L))+(B.width-Q)*(1-k/100)+d),O(K,R,i(h(K,R))+(B.height-Q)*D/100+d)):"rightBottom"===b&&(O(K,L,i(h(K,L))+(B.width-Q)*(1-k/100)+d),O(K,l,i(h(K,l))+(B.height-Q)*(1-D/100)+d)),K[f]+=" panel-minimized",H.$18i.fire({kind:"endMinimize",target:H,id:K.$15i})},$17i:function(){var F=this,l=F._config,H=F._view;O(H,"-webkit-transform",M),O(H,"-ms-transform",M),O(H,"transform",M),l.minimized?F.$25i():(F.$18i.fire({kind:"endRestore",target:F,id:l.id}),H[f]=H[f].replace(" panel-minimized",M)),delete H.$19i},minimize:function(X){var M=this,y=M._view;if(!y.$19i&&y.children[0].style.display!==o){var e=M._config,i=y.getBoundingClientRect(),L=M.$20i(),t=i.width,E=i.height,p=L/t,G=L/E,B=M.$16i(),u=B[0],d=B[1];y.$52i=p,y.$53i=G,y.$21i=i,M.$18i.fire({kind:"beginMinimize",target:M,id:y.$15i});var V=200;X&&(V=0),e.minimized=!0,y.$19i=!0,e.expanded&&(y.$26i=y.offsetWidth);var w=u+"% "+d+"%";O(y,"-webkit-transform-origin",w),O(y,"-ms-transform-origin",w),O(y,"transform-origin",w),F(y).duration(V).scale(p,G).end(function(){M.$17i()}),M.$10i()}},restore:function(){var A,S,u,n,f,D,H,s,q,v,M,$,Z=this,p=Z._view,Y=p.parentNode,m=Z._config;if(!p.$19i&&m.minimized){var U=p.$21i,K=p.$52i,G=p.$53i,b=(m.borderWidth+d,Z.$20i()),Q=W(Y),N=Z.$2i;"leftTop"===N?(A=i(h(p,I)),u=i(h(p,R)),f=A,H=u,q=A+U.width-Q.width,v=u+U.height-Q.height,q>0&&(q>=A?A=0:A-=q),v>0&&(v>=u?u=0:u-=v),M=100*((f-A)/(U.width-b)),$=100*((H-u)/(U.height-b)),O(p,I,A+d),O(p,R,u+d)):"leftBottom"===N?(A=i(h(p,I)),n=i(h(p,l)),f=A,s=n,q=A+U.width-Q.width,v=n+U.height-Q.height,q>0&&(q>=A?A=0:A-=q),v>0&&(v>=n?n=0:n-=v),M=100*((f-A)/(U.width-b)),$=100*(1-(s-n)/(U.height-b)),O(p,I,A+d),O(p,l,n+d)):"rightTop"===N?(S=i(h(p,L)),u=i(h(p,R)),D=S,H=u,q=S+U.width-Q.width,v=u+U.height-Q.height,q>0&&(q>=S?S=0:S-=q),v>0&&(v>=u?u=0:u-=v),M=100*(1-(D-S)/(U.width-b)),$=100*((H-u)/(U.height-b)),O(p,L,S+d),O(p,R,u+d)):"rightBottom"===N&&(S=i(h(p,L)),n=i(h(p,l)),D=S,s=n,q=S+U.width-Q.width,v=n+U.height-Q.height,q>0&&(q>=S?S=0:S-=q),v>0&&(v>=n?n=0:n-=v),M=100*(1-(D-S)/(U.width-b)),$=100*(1-(s-n)/(U.height-b)),O(p,L,S+d),O(p,l,n+d)),p.children[0].style.display="block",p.children[1].style.display="block",p.children[2].style.display=o,O(p,"-webkit-transform","scale("+K+", "+G+")"),O(p,"-ms-transform","scale("+K+", "+G+")"),O(p,"transform","scale("+K+", "+G+")"),p.$22i=M,p.$23i=$,O(p,"-webkit-transform-origin",M+"% "+$+"%"),O(p,"-ms-transform-origin",M+"% "+$+"%"),O(p,"transform-origin",M+"% "+$+"%"),m.narrowWhenCollapse&&!m.expanded?O(p,g,p.$51i+d):O(p,g,p.$26i+d),Z.$18i.fire({kind:"beginRestore",target:Z,id:p.$15i}),p.$19i=!0,m.minimized=!1,r(function(){F(p).scale(1,1).end(function(){Z.$17i()})},30),Z.$10i()}},addEventListener:function(f,V,J){this.$18i.add(f,V,J)},removeEventListener:function(O,N){this.$18i.remove(O,N)},setPosition:function(y,j){var s=this._view,w=this.$2i;"leftTop"===w?(O(s,I,y+d),O(s,R,j+d),O(s,L,M),O(s,l,M)):"leftBottom"===w?(O(s,I,y+d),O(s,l,j+d),O(s,L,M),O(s,R,M)):"rightTop"===w?(O(s,L,y+d),O(s,R,j+d),O(s,I,M),O(s,l,M)):"rightBottom"===w&&(O(s,L,y+d),O(s,l,j+d),O(s,I,M),O(s,R,M)),delete s.$22i,delete s.$23i},getPosition:function(){var F=this._view,p=this.$2i;return"leftTop"===p?{x:i(h(F,I)),y:i(h(F,R))}:"leftBottom"===p?{x:i(h(F,I)),y:i(h(F,l))}:"rightTop"===p?{x:i(h(F,L)),y:i(h(F,R))}:"rightBottom"===p?{x:i(h(F,L)),y:i(h(F,l))}:void 0},setPositionRelativeTo:function(h){var t=this,A=t._view.querySelectorAll(".button-toggle"),k="control-button button-toggle",T=t.getPosition();t.$2i=h,t.setPosition(T.x,T.y);for(var y=0;y<A.length;y++){var M=A[y],o=t.getPanelConfig(M.parentNode.parentNode.parentNode.$15i);M[f]=o.expanded?h.indexOf("Bottom")>=0?k+" button-toggle-collapse":k+" button-toggle-expand":h.indexOf("Bottom")>=0?k+" button-toggle-expand":k+" button-toggle-collapse"}t.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(R){var f=this;f._68I||(f._68I=1,C.callLater(f.validate,f,K,R),f.onInvalidated&&f.onInvalidated(),f.fireViewEvent("invalidate"));var y=this._config,u=y.content;u&&u.invalidate&&u.invalidate(),y.items&&y.items.forEach(function(P){P&&P.content&&P.content.invalidate&&P.content.invalidate()})},getIconStretch:function(){var G=this._config.iconStretch||"fill";return G},$27i:function(o,q,z,P,r){var _=n.initContext(o);n.translateAndScale(_,0,0,1),_.clearRect(0,0,z,z);var J=(z-P)/2;C.drawStretchImage(_,C.getImage(q),this.getIconStretch(r),0,J,P,P),_.restore()},$28i:function(H){var r,g,w,B=this,t=H.id,L=B.getPanelView(t),A=L.querySelector(".button-toggle"),d=B.$2i.indexOf("Bottom")>=0;if(g=d?C.panelCollapseIcon:C.panelExpandIcon,w=d?C.panelExpandIcon:C.panelCollapseIcon,A){r=H.expanded?C.getImage(w):C.getImage(g);var X=B.$4i(H),x=B.$5i(H);B.$27i(A,r,X,x,"toggle")}},$29i:function(j){var $,y=this,U=j.id,L=y.getPanelView(U),Q=L.querySelector(".button-independent-switch"),x=C.panelUnLockIcon,n=C.panelLockIcon;if(Q){$=j.independent!==!0?C.getImage(n):C.getImage(x);var X=y.$4i(j),N=y.$5i(j);y.$27i(Q,$,X,N,"switch")}},$30i:function(R){var l=this,u=R.id,q=l.getPanelView(u),N=q.querySelector(".button-minimize-minimize"),B=C.panelMinimizeIcon;if(N){var g=l.$4i(R),_=l.$5i(R);l.$27i(N,C.getImage(B),g,_,"miminize")}},$31i:function(G){var j=this,O=G.id,I=j.getPanelView(O),k=I.querySelector(".button-minimize-restore"),X=G.titleIcon||C.panelRestoreIcon;if(k){var o=j.$20i();j.$27i(k,C.getImage(X),o,o,"restore")}},$32i:function(Q){var L=this,m=Q.id,W=L.getPanelView(m);if(Q.buttons){var z=Q.buttons;z.forEach(function(H){var c=H.name,e=H.icon;if(c&&e){var o=W.querySelector(".custombutton-"+c);if(o){var P=L.$4i(Q),x=L.$5i(Q)-1;L.$27i(o,C.getImage(e),P,x,"custom")}}})}},$33i:function(m){var D=this,F=m.id,P=D.getPanelView(F),b=P.querySelector(".panel-title-icon"),T=m.titleIcon;if(b&&T){var K=D.$4i(m),k=D.$5i(m);D.$27i(b,C.getImage(T),K,k,"title")}},validateImpl:function(){var d=this,V=d._config;d.$28i(V),d.$30i(V),d.$31i(V),d.$32i(V),d.$33i(V),V.items&&V.items.forEach(function(h){d.$28i(h),d.$29i(h),d.$32i(h)})}});var m=function(y){var z=this,t=y.getView();z.$34i=y,z.addListeners(),w(t,"dblclick",z.$42i.bind(z))};C.def(m,Y,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(f){for(var y=this.$34i,L=f.target,s=y.$35i,E=s.length,o=0;E>o;o++){var m=s[o];m.contains(L)&&(f.preventDefault(),y.togglePanel(m.parentNode.$15i))}},handle_touchstart:function(n){var s=this,r=s.$34i,g=r._config,o=g.flowLayout,S=n;if(C.isLeftButton(n)){var M=n.target,f=r.getView().children[0],W=r.getView().querySelector(".button-minimize-restore");u(n)&&(S=x(n));var T=s.$40i={x:S.pageX,y:S.pageY};s.$41i={x:T.x,y:T.y},(!o&&f.contains(M)||W&&W.contains(M))&&(s.$38i=!0,C.startDragging(s,n)),!o&&s.handle_mousemove(n)&&(s.$37i=!0,C.startDragging(s,n),r.$11i())}},handle_mousedown:function(L){this.handle_touchstart(L)},handle_touchend:function(A){var i=this,o=i.$34i,e=A.target,u=o.$35i,T=u.length,Q=0,l=o.getView(),X=l.querySelector(".button-minimize"),I=l.querySelector(".button-minimize-restore");if(!i.$39i&&!i.$36i){if(X&&X.contains(e)||I&&I.contains(e))A.preventDefault(),o._config.minimized?o.restore():o.minimize();else for(;T>Q;Q++){var R=u[Q],P=R.parentNode,d=P.$15i,G=o.getPanelConfig(d),z=R.querySelector(".button-toggle"),s=R.querySelector(".button-independent-switch");if(z===e)A.preventDefault(),o.togglePanel(d);else if(s===e){A.preventDefault();var b="button-independent-switch-off",r="button-independent-switch-on";G.independent=G.independent==K?!0:!G.independent,s[f]=G.independent?s[f].replace(b,r):s[f].replace(r,b),o.$29i(G)}else e[f]&&e[f].indexOf("control-button custombutton-")>=0&&R.contains(e)&&e._action.call(o,G,o.getPanelView(d),A)}delete i.$40i,delete i.$41i}},handle_mouseup:function(r){this.handle_touchend(r)},handleWindowTouchEnd:function(){var n=this,Y=n.$34i;n.$37i&&n.$36i?(Y.$18i.fire({kind:"endResize",target:Y,id:Y.getView().$15i}),Y.$12i()):n.$38i&&n.$39i&&Y.$18i.fire({kind:"endMove",target:Y,id:Y.getView().$15i}),this.clear()},handleWindowMouseUp:function(n){this.handleWindowTouchEnd(n)},handle_mousemove:function(g){var H=this,J=H.getView(),_=J.querySelector(".resize-area"),E=_.getBoundingClientRect(),i={x:E.left,y:E.top,width:E.width,height:E.height};g=u(g)?x(g):g;var B=g.clientX,m=g.clientY,Q=H.$34i._config;return Q.expanded&&Q.minimized!==!0&&C.containsPoint(i,{x:B,y:m})?(J.style.cursor="nwse-resize",!0):(J.style.cursor=M,void 0)},handleWindowTouchMove:function(J){J.preventDefault();var Z=J;u(J)&&(Z=x(J));var b=this,A=b.$40i,D=b.$41i;if(!(D.x==A.x&&D.y==A.y&&C.getDistance(D,{x:Z.pageX,y:Z.pageY})<=1)){var p=b.$34i,X=b.getView(),Y=X.parentNode,U=p._config,P=U.resizeMode||"wh",Q=Z.pageX-A.x,t=Z.pageY-A.y,B=p.$2i;if(b.$37i){var e=X.children[1].children[0],w=X.offsetWidth,s=e.offsetHeight,S=w+Q,c=s+t;S=Math.max(S,100),c=Math.max(c,100),"w"===P?(O(X,j,S+d),U.width=S):"h"===P?(O(e,T,c+d),U.contentHeight=c):"wh"===P&&(O(X,j,S+d),O(e,T,c+d),U.width=S,U.contentHeight=c),B.indexOf("right")>=0&&O(X,L,i(h(X,L))-(S-w)+d),B.indexOf("Bottom")>=0&&O(X,l,i(h(X,l))-(c-s)+d),A.x=Z.pageX,A.y=Z.pageY;var K=U.content;K&&K.isSelfViewEvent&&(K.setX(0),K.setY(0),K.setWidth(U.width-2*(U.borderWidth||0)),K.setHeight(U.contentHeight)),b.$36i?p.$18i.fire({kind:"betweenResize",target:p,id:p.getView().$15i}):(b.$36i=!0,p.$18i.fire({kind:"beginResize",target:p,id:p.getView().$15i}))}else if(b.$38i){var r,H,E,f,k,N,$,F,n,M,o=X.getBoundingClientRect(),G=o.width,y=o.height,_=W(Y),a=_.width,m=_.height,g=p._dragContainment;"leftTop"===B?(r=i(h(X,I))||0,E=i(h(X,R))||0,k=r+Q,$=E+t,"parent"===g&&(k+G>a&&(k=a-G),$+y>m&&($=m-y),0>k&&(k=0),0>$&&($=0)),n=k-r,M=$-E,p.setPosition(k,$),A.x+=n,A.y+=M):"rightBottom"===B?(H=i(h(X,L))||0,f=i(h(X,l))||0,N=H-Q,F=f-t,"parent"===g&&(0>N&&(N=0),0>F&&(F=0),N+G>a&&(N=a-G),F+y>m&&(F=m-y)),n=N-H,M=F-f,p.setPosition(N,F),A.x-=n,A.y-=M):"rightTop"===B?(H=i(h(X,L))||0,E=i(h(X,R))||0,N=H-Q,$=E+t,"parent"===g&&(0>N&&(N=0),0>$&&($=0),N+G>a&&(N=a-G),$+y>m&&($=m-y)),n=N-H,M=$-E,p.setPosition(N,$),A.x-=n,A.y+=M):"leftBottom"===B&&(r=i(h(X,I))||0,f=i(h(X,l))||0,k=r+Q,F=f-t,"parent"===g&&(0>k&&(k=0),0>F&&(F=0),k+G>a&&(k=a-G),F+y>m&&(F=m-y)),n=k-r,M=F-f,p.setPosition(k,F),A.x+=n,A.y-=M),b.$39i?p.$18i.fire({kind:"betweenMove",target:p,id:p.getView().$15i}):(b.$39i=!0,p.$18i.fire({kind:"beginMove",target:p,id:p.getView().$15i}))}}},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)}});var N=H.widget.PanelGroup=function(V){var U=this,N=U._view=n.createView(null,U);N.style.border="1px dashed black",N.style.position="absolute",N.style.background="rgba(120, 120, 120, 0.4)",U.$48i=new H.List,U._tolerance=100,U._config=V||{hGap:0,vGap:0},U.bindHandlePanelMove=U.handlePanelMove.bind(U),U.bindHandlePanelEvent=U.handlePanelEvent.bind(U),U.invalidate()};C.def(N,Y,{invalidate:function(){var k=this;k._68I||(k._68I=1,r(function(){k.validate()},50))},validate:function(){if(this._68I){delete this._68I;var N=this.$48i.get(0);if(N){var v=N.getView().parentNode;v&&(this.layoutPanels(v,"leftTop"),this.layoutPanels(v,"rightTop"),this.layoutPanels(v,"leftBottom"),this.layoutPanels(v,"rightBottom"))}}},setLeftTopPanels:function(){var A=this,p=A.$43i,i=A.$48i;p==K&&(p=A.$43i=new H.List);for(var E=0;E<arguments.length;E++){var F=arguments[E];if("string"==typeof F)p.$49i=F;else{if(F._config.flowLayout)continue;F.setPositionRelativeTo("leftTop"),p.contains(F)||p.add(F),i.contains(F)||A.add(F)}}},setRightTopPanels:function(){var C=this,a=C.$44i,i=C.$48i;a==K&&(a=C.$44i=new H.List);for(var x=0;x<arguments.length;x++){var B=arguments[x];if("string"==typeof B)a.$49i=B;else{if(B._config.flowLayout)continue;B.setPositionRelativeTo("rightTop"),a.contains(B)||a.add(B),i.contains(B)||C.add(B)}}},setLeftBottomPanels:function(){var O=this,Y=O.$45i,N=O.$48i;Y==K&&(Y=O.$45i=new H.List);for(var f=0;f<arguments.length;f++){var x=arguments[f];if("string"==typeof x)Y.$49i=x;else{if(x._config.flowLayout)continue;x.setPositionRelativeTo("leftBottom"),Y.contains(x)||Y.add(x),N.contains(x)||O.add(x)}}},setRightBottomPanels:function(){var y=this,o=y.$46i,M=y.$48i;o==K&&(o=y.$46i=new H.List);for(var e=0;e<arguments.length;e++){var b=arguments[e];if("string"==typeof b)o.$49i=b;else{if(b._config.flowLayout)continue;b.setPositionRelativeTo("rightBottom"),o.contains(b)||o.add(b),M.contains(b)||y.add(b)}}},add:function(i){if(!i._config.flowLayout){var z=this,V=z.$48i;V.contains(i)||(i.addEventListener(z.bindHandlePanelMove),i.addEventListener(z.bindHandlePanelEvent),V.add(i))}},remove:function(Z){var j=this,q=j.$48i;q.contains(Z)&&(Z.removeEventListener(j.bindHandlePanelMove),Z.removeEventListener(j.bindHandlePanelEvent),q.remove(Z),j.$43i.contains(Z)&&j.$43i.remove(Z),j.$44i.contains(Z)&&j.$44i.remove(Z),j.$45i.contains(Z)&&j.$45i.remove(Z),j.$46i.contains(Z)&&j.$46i.remove(Z))},layoutPanels:function(g,p,S){var z=this,W=z._config,w=W.hGap||0,y=W.vGap||0;if(g){var v=z.$43i;if("leftBottom"===p?v=z.$45i:"rightTop"===p?v=z.$44i:"rightBottom"===p&&(v=z.$46i),!v)return;var P=v.$49i,D=w,f=y;if(g.contains(z._view)&&g.removeChild(z._view),v&&v.size()>0)for(var k=0;k<v.size();k++){var b=v.get(k),h=b.getView();g=g||h.parentNode,S!==k?b.setPosition(D,f):("leftTop"===p?(z._view.style.right="",z._view.style.bottom="",z._view.style.left=D+d,z._view.style.top=f+d):"leftBottom"===p?(z._view.style.right="",z._view.style.top="",z._view.style.left=D+d,z._view.style.bottom=f+d):"rightTop"===p?(z._view.style.left="",z._view.style.bottom="",z._view.style.right=D+d,z._view.style.top=f+d):"rightBottom"===p&&(z._view.style.left="",z._view.style.top="",z._view.style.right=D+d,z._view.style.bottom=f+d),z._view.style.width=h.offsetWidth+d,z._view.style.height=h.offsetHeight+d,g.insertBefore(z._view,h)),"h"===P?D+=h.offsetWidth+w:"v"===P&&(f+=h.offsetHeight+y)}}},handlePanelEvent:function(k){if("beginToggle"===k.kind||"endToggle"===k.kind||"beginRestore"===k.kind||"endMinimize"===k.kind||"endResize"===k.kind){var N=this,I=k.target,e=I.getView(),m=e.parentNode,X=N.$43i,V=N.$44i,H=N.$45i,A=N.$46i,q=N._config,Z=K,t=K,$=I.$47i;if($==K&&($=I.$47i=0),"beginToggle"===k.kind?$=I.$47i=$+1:"endToggle"===k.kind&&($=I.$47i=$-1),X&&X.contains(I)?(Z="leftTop",t=X):H&&H.contains(I)?(Z="leftBottom",t=H):V&&V.contains(I)?(Z="rightTop",t=V):A&&A.contains(I)&&(Z="rightBottom",t=A),"beginToggle"===k.kind&&Z&&1===$){var R=S(),i=R.style,f=t.$49i,T="each";i.fontSize="0",i.position="absolute",i.width="100%","leftTop"===Z?(i.left=0,i.top=0):"leftBottom"===Z?(i.left=0,i.bottom=0,"v"===f&&(T="reverseEach")):"rightTop"===Z?(i.right=0,i.top=0,i.textAlign="right","h"===f&&(T="reverseEach")):"rightBottom"===Z&&(i.right=0,i.bottom=0,i.textAlign="right",T="reverseEach"),t[T](function(n){var C=n.getView(),p=C.style,O=S();p.position="static",O.style.textAlign="left",O.style.position="relative",O.style.display="inline-block","leftTop"===Z?(O.style.marginLeft=q.hGap+d,O.style.marginTop=q.vGap+d):"leftBottom"===Z?(O.style.marginLeft=q.hGap+d,O.style.marginBottom=q.vGap+d):"rightTop"===Z?(O.style.marginRight=q.hGap+d,O.style.marginTop=q.vGap+d):"rightBottom"===Z&&(O.style.marginRight=q.hGap+d,O.style.marginBottom=q.vGap+d),O.appendChild(C),R.appendChild(O),"h"===f?O.style.verticalAlign="leftTop"===Z||"rightTop"===Z?"top":"bottom":R.appendChild(s("br"))}),N.$54i=R,m.appendChild(R)}else"endToggle"===k.kind&&Z&&0===$?r(function(){m=m.parentNode.parentNode,m.removeChild(N.$54i),delete N.$54i,t.each(function(E){var s=E.getView(),C=s.style;C.position="absolute",m.appendChild(s)}),N.layoutPanels(m,Z)},30):("beginRestore"===k.kind||"endMinimize"===k.kind||"endResize"===k.kind)&&Z&&N.layoutPanels(m,Z)}},handlePanelMove:function(I){if(!(I.kind.indexOf("Move")<0)){var G=this,A=G._config,L=A.hGap||0,u=A.vGap||0,s=I.target,T=s._view,a=T.getBoundingClientRect(),M=a.width,y=a.height,c=M/2,h=y/2,$=T.parentNode,j=G.$43i,F=G.$44i,C=G.$45i,D=G.$46i,k=$.getBoundingClientRect(),f=G._tolerance;if("endMove"===I.kind){var Z=G._corner;Z&&(s.setPositionRelativeTo(Z),G.layoutPanels($,Z)),delete G._corner}if("betweenMove"===I.kind){var d=k.left,w=k.top,V=k.width,Q=k.height,t=a.left+M/2,X=a.top+y/2;j==K&&(j=G.$43i=new H.List),C==K&&(C=G.$45i=new H.List),F==K&&(F=G.$44i=new H.List),D==K&&(D=G.$46i=new H.List),delete G._corner,j.contains(s)?(j.remove(s),G.layoutPanels($,"leftTop")):C.contains(s)?(C.remove(s),G.layoutPanels($,"leftBottom")):F.contains(s)?(F.remove(s),G.layoutPanels($,"rightTop")):D.contains(s)&&(D.remove(s),G.layoutPanels($,"rightBottom"));var U=function(S,C){var o=d+L,B=w+u;if(0===C.size()){var E=o+c,v=B+h;"leftBottom"===S?v=w+Q-u-h:"rightTop"===S?E=d+V-L-c:"rightBottom"===S&&(E=d+V-L-c,v=w+Q-u-h);var y=t-E,_=X-v,H=Math.sqrt(y*y+_*_);if(f>H)return G._corner=S,C.add(s),G.layoutPanels($,S,0),!0}else if(1===C.size()){var g=C.get(0),p=g.getView().getBoundingClientRect(),P=p.left+c,W=p.top+h,r=p.left+p.width+L+c,F=B+h,R=o+c,T=p.top+p.height+u+h;"leftBottom"===S?(W=p.top+p.height-h,F=w+Q-u-h,T=p.top-u-h):"rightTop"===S?(P=p.left+p.width-c,r=p.left-L-c,R=d+V-L-c):"rightBottom"===S&&(P=p.left+p.width-c,W=p.top+p.height-h,r=p.left-L-c,F=w+Q-u-h,R=d+V-L-c,T=p.top-u-h);var I=t-P,b=X-W,M=t-r,j=X-F,m=t-R,J=X-T,a=i(Math.sqrt(I*I+b*b)),z=i(Math.sqrt(M*M+j*j)),A=i(Math.sqrt(m*m+J*J)),x=[a,z,A];x.sort(function(t,B){return t-B});var O=x[0];if(f>O){if(G._corner=S,O===a)return C.add(s,0),G.layoutPanels($,S,0),!0;if(O===z)return C.add(s),C.$49i="h",G.layoutPanels($,S,1),!0;if(O===A)return C.add(s),C.$49i="v",G.layoutPanels($,S,1),!0}}else if(C.size()>1){for(var n=K,q={},Z=[],l=C.$49i,Y=0;Y<C.size();Y++){var U=C.get(Y),e=U.getView(),k=e.getBoundingClientRect(),N=k.left+c,D=k.top+h;"leftBottom"===S?D=k.top+k.height-h:"rightTop"===S?N=k.left+k.width-c:"rightBottom"===S&&(N=k.left+k.width-c,D=k.top+k.height-h),Y===C.size()-1&&(n=k);var y=t-N,_=X-D,H=i(Math.sqrt(y*y+_*_));q[H]=Y,Z.push(H)}"leftTop"===S&&"h"===l?(E=n.left+n.width+L+c,v=B+h):"leftTop"===S&&"v"===l?(E=o+c,v=n.top+n.height+u+h):"leftBottom"===S&&"h"===l?(E=n.left+n.width+L+c,v=w+Q-u-h):"leftBottom"===S&&"v"===l?(E=o+c,v=n.top-u-h):"rightTop"===S&&"h"===l?(E=n.left-L-c,v=B+h):"rightTop"===S&&"v"===l?(E=d+V-L-c,v=n.top+n.height+u+h):"rightBottom"===S&&"h"===l?(E=n.left-L-c,v=w+Q-u-h):"rightBottom"===S&&"v"===l&&(E=d+V-L-c,v=n.top-u-h),y=t-E,_=X-v,H=i(Math.sqrt(y*y+_*_)),q[H]=Y,Z.push(H),Z.sort(function(p,N){return p-N});var O=Z[0];if(f>O)return G._corner=S,C.add(s,q[O]),G.layoutPanels($,S,q[O]),!0}};U("leftTop",j)||U("leftBottom",C)||U("rightTop",F)||U("rightBottom",D)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);